	----- imports					 --
loadstring(exports.importer:load())()					 --
import('RRL_Scripts/usfulS.lua')()    -- Usful Server					 --
------------------------------------					 --
					 --
places = {}					 --
	places[1] = {}					 --
		createMarker(1409.9254882812, -1642.6499023438, 43.25,"arrow",0.7, 230, 120, 55, 0)					 --
		--1410.6254882812 -1642.6499023438 42.75 вход сюда					 --
					 --
		table.insert(places[1], createObject(1485, 1416.7405,-1636.67,37.9,0,35,3)) 				--ciga					 --
		table.insert(places[1], createObject(1485, 1416.7405,-1636.67,37.9,0,35,3)) 						 --
		table.insert(places[1], createObject(1485, 1416.7405,-1636.67,37.9,0,35,3)) 						 --
		table.insert(places[1], createObject(1485, 1416.7405,-1636.67,37.9,0,35,3)) 						 --
					 --
		table.insert(places[1], createObject(2655, 1409.7, -1640.1, 39.5, 0,0,90)) 					--flagi					 --
    	table.insert(places[1], createObject(2655, 1413.7, -1636 , 39.5, 0,0,0))					 --
    	table.insert(places[1], createObject(2655, 1418.19995, -1636, 39.5, 0,0,0))					 --
    	table.insert(places[1], createObject(2655, 1409.7, -1644.2, 39.5, 0,0,90))					 --
						 --
		table.insert(places[1], createObject(2632, 1417, -1636.9, 37.26001, 0, 0, 0)) 				--gym_mat02					 --
    	table.insert(places[1], createObject(2631, 1411.5, -1643.7, 37.26 ,0, 0, 0)) 				--gym_mat1					 --
    	table.insert(places[1], createObject(2631, 1411.5, -1641.8, 37.26 ,0, 0, 0)) 						 --
    	table.insert(places[1], createObject(2631, 1411.5, -1639.9004, 37.26 ,0, 0, 0)) 					 --
    	table.insert(places[1], createObject(2631, 1411.5, -1638, 37.26 ,0, 0, 0)) 							 --
    	table.insert(places[1], createObject(2631, 1411.5, -1636.1, 37.26 ,0, 0, 0)) 						 --
					 --
    	table.insert(places[1], createObject(2827, 1417, -1636.7, 37.3 ,0, 0, 0)) 					--GB_novels05					 --
    	table.insert(places[1], createObject(2855, 1417.1, -1637.1, 37.4 ,0, 0, 0)) 				--gb_bedmags05					 --
    	table.insert(places[1], createObject(13011, 1414.87, -1642.6, 38.5 ,0, 0, 90)) 				--cos_sbanksteps04					 --
					 --
    	--2773					 --
    	table.insert(places[1], createObject(998, 1419.1, -1642.3, 38 ,90, 0, 90)) 					--Gdyn_barrier17					 --
	    table.insert(places[1], createObject(998, 1416.27, -1644.9, 38 ,90, 0, 180)) 						 --
					 --
	    table.insert(places[1], createObject(3515, 1479.5, -1639.5, 12.15, 0, 0, 0)) 				--vgsfountain					 --
    	table.insert(places[1], createObject(2985, 1418.2002, -1644.2002, 37.2, 0, 9.998, 339.999)) --minigun_base					 --
    	table.insert(places[1], createObject(3388, 1414.40002, -1635.90002, 37.3, 0, 0, 90)) 		--a51_srack4_					 --
    	table.insert(places[1], createObject(3396, 1412.2002, -1636.7998, 37.3, 0, 0, 90)) 			--a51_sdsk_4_					 --
					 --
    	table.insert(places[1], 1, createObject(1582, 1413.2, -1637.4, 38.2, 0, 0, 55)) 				--pizzabox					 --
    		setElementFrozen(places[1][1],true)					 --
					 --
    	table.insert(places[1], createObject(3801, 1409.8, -1644.3, 41.3, 0, 0, 0)) 				--sfx_lite04    							 --
    	table.insert(places[1], createObject(3801, 1409.8, -1640.3, 41.3, 0, 0, 0))     							 --
    	table.insert(places[1], createObject(3801, 1414.2, -1636.1, 41.4, 0, 0, 270)) 				    							 --
    	table.insert(places[1], createObject(3801, 1418.4, -1636.1, 41.4, 0, 0, 270)) 				    							 --
					 --
    	table.insert(places[1], createObject(2606, 1411.7, -1635.8, 39.83, 0, 0, 0))				--CJ_POLICE_COUNTER2					 --
    	table.insert(places[1], createObject(2606, 1411.7126, -1635.8199, 40.28, 0, 0, 0))								 --
    	table.insert(places[1], createObject(2606, 1411.7, -1635.8, 40.7, 0, 0, 0))										 --
					 --
    	table.insert(places[1], createObject(2608, 1409.90002, -1638.40002, 38, 0, 0, 90))			--POLCE_SHELF					 --
    	table.insert(places[1], createObject(2966, 1412.6, -1642.2, 38.2, 0, 0, 212))				--mobile1993b					 --
    	table.insert(places[1], createObject(1512, 1412.2, -1643.1, 38.4, 0, 0, 0))					--DYN_WINE_03					 --
    	table.insert(places[1], createObject(1520, 1412.3, -1643.2, 38.2, 0, 0, 0))					--DYN_WINE_BOUNCE					 --
    	table.insert(places[1], createObject(1667, 1412.4, -1643.1, 38.3, 0, 0, 0))					--propwineglass1					 --
    	table.insert(places[1], createObject(1790, 1413.6, -1636.9, 38.8, 0, 0, 0))					--SWANK_VIDEO_3					 --
    	table.insert(places[1], createObject(1809, 1414.2, -1636.24, 40.28, 0, 0, 0))				--MED_HI_FI					 --
    	table.insert(places[1], createObject(1840, 1410.0996, -1640, 38.655, 0, 0, 169.957))		--speaker_2					 --
					 --
    	table.insert(places[1], createObject(2104, 1409.8, -1639.9, 37.3, 0, 0, 90))				--SWANK_HI_FI					 --
    	table.insert(places[1], createObject(2232, 1410, -1640.8, 37.9, 0, 0, 90))					--MED_SPEAKER_4					 --
    	table.insert(places[1], createObject(2726, 1412.5, -1643, 38.5, 0, 0, 0))					--LM_stripLamp					 --
    	table.insert(places[1], createObject(1510, 1416.9, -1636.7, 37.8, 0, 0, 0))					--DYN_ASHTRY					 --
    	table.insert(places[1], createObject(1718, 1409.94, -1639.45, 37.45, 0, -20, 80))			--snesish					 --
    	table.insert(places[1], createObject(4605, 1823.6875, -1291.25, 7.3125, 0, 0, 0))			--skyscrapn203_gls					 --
					 --
    	table.insert(places[1],1, createObject(3017, 1411.6, -1637.2201, 38.2, 0, 0, 0)) 			--arch_plans					 --
    						 --
    	table.insert(places[1],2, createObject(2571, 1415.5, -1637.7002, 37.3, 0, 0, 0)) 			--Hotel_SINGLE_1					 --
    	--table.insert(places[1],1, createObject(2291, 1415.4, -1637.2202, 37.3, 0, 0, 25)) 			--SWK_SINGLE_1					 --
    	--	setElementAlpha(places[1][1],0)					 --
    	--table.insert(places[1],1, createObject(2291, 1417.75, -1636.802, 37.3, 0, 0, -25)) 			--SWK_SINGLE_1					 --
    	--	setElementAlpha(places[1][1],0)					 --
					 --
    	table.insert(places[1],1, createObject(2196, 1412.2, -1636.3, 38.2, 0, 0, 337)) 			--WORK_LAMP1					 --
    	table.insert(places[1],1, createObject(2111, 1412.4, -1643, 37.7, 0, 0, 0))     			--LOW_DINNING_5					 --
    	table.insert(places[1],1, createObject(1760, 1410.3, -1643.9, 37.3, 0, 0, 92)) 				--MED_COUCH_2					 --
    	table.insert(places[1],1, createObject(2291, 1411.4, -1640.9, 37.3, 0, 0, 15)) 				--SWK_SINGLE_1					 --
    	table.insert(places[1],1, createObject(4602, 1415.3, -1636.3, 38, 0, 0, 159.999))  			--LAskyscrap4_LAn					 --
    		setObjectScale(places[1][1],0.01)					 --
    		setElementCollisionsEnabled(places[1][1],false)					 --
					 --
    	table.insert(places[1],1, createObject(3031, 1414.69995, -1636.22998, 40.8, 0, 0, 340))			--wong_dish					 --
    		setObjectScale(places[1][1],0.3)					 --
radios = {}					 --
radiosVolns = 					 --
	{					 --
		{name = "radio Record - Lo-Fi", href = "http://radiorecord.hostingradio.ru/lofi96.aacp"},					 --
		{name = "radio Record - Innocence", href = "http://radiorecord.hostingradio.ru/ibiza96.aacp"},					 --
		{name = "radio Record - Deep", href = "http://radiorecord.hostingradio.ru/deep96.aacp"},					 --
		{name = "radio Record - Tech House", href = "http://radiorecord.hostingradio.ru/techouse96.aacp"},					 --
		{name = "radio Record - Chill-Out", href = "http://radiorecord.hostingradio.ru/chil96.aacp"},					 --
		{name = "radio Record - Chill House", href = "http://radiorecord.hostingradio.ru/chillhouse96.aacp"},					 --
		{name = "radio Record - Bass House", href = "http://radiorecord.hostingradio.ru/jackin96.aacp"},					 --
		{name = "radio Record - Trance Classics", href = "http://radiorecord.hostingradio.ru/trancehits96.aacp"},					 --
		{name = "radio Record - Minimal/Tech", href = "http://radiorecord.hostingradio.ru/mini96.aacp"},					 --
		{name = "radio Record - D'n'B Classics", href = "http://radiorecord.hostingradio.ru/drumhits96.aacp"},					 --
		{name = "radio Record - Progressive", href = "http://radiorecord.hostingradio.ru/progr96.aacp"},					 --
		{name = "radio Record - Trancehouse", href = "http://radiorecord.hostingradio.ru/trancehouse96.aacp"},					 --
		{name = "radio Record - GOA/PSY", href = "http://radiorecord.hostingradio.ru/goa96.aacp"},					 --
		{name = "radio Record - Electro", href = "http://radiorecord.hostingradio.ru/elect96.aacp"},					 --
		{name = "radio Record - Neurofunk", href = "http://radiorecord.hostingradio.ru/neurofunk96.aacp"},					 --
		{name = "radio Record - Techno", href = "http://radiorecord.hostingradio.ru/techno96.aacp"},					 --
		{name = "radio Record - Tecktonik", href = "http://radiorecord.hostingradio.ru/tecktonik96.aacp"},					 --
		{name = "radio Record - Synthwave", href = "http://radiorecord.hostingradio.ru/synth96.aacp"},					 --
		{name = "radio Record - Darkside", href = "http://radiorecord.hostingradio.ru/darkside96.aacp"},					 --
		{name = "radio Record - Hypnotic", href = "http://radiorecord.hostingradio.ru/hypno96.aacp"},					 --
		{name = "radio Record - Complextro", href = "http://radiorecord.hostingradio.ru/complextro96.aacp"},					 --
		{name = "radio Record - Ambient", href = "http://radiorecord.hostingradio.ru/ambient96.aacp"}					 --
	}					 --
function progRadioMarker(marka)					 --
	local vklicheno = false					 --
					 --
	local radio = 1					 --
					 --
	local dataer = function()					 --
		triggerClientEvent('radioUpadte',marka,vklicheno,radio,radiosVolns)					 --
	end					 --
					 --
					 --
	local levo = function()					 --
		radio = radio - 1					 --
		if radio < 1 then					 --
			radio = #radiosVolns					 --
		end					 --
		dataer()					 --
	end					 --
	local pravo = function()					 --
		radio = radio + 1					 --
		if radio > #radiosVolns then					 --
			radio = 1					 --
		end					 --
		dataer()					 --
	end					 --
	local vniz = function()					 --
		vklicheno = not vklicheno					 --
		dataer()					 --
	end					 --
					 --
	local tab = {marka,vklicheno,radio,radios}					 --
					 --
	--triggerClientEvent('radioCreate',root,tab)					 --
	radios[#radios + 1] = tab					 --
					 --
	addEventHandler("onMarkerHit", marka, function(element)					 --
		if getElementType(element) ~= "player" then return end					 --
		triggerClientEvent(element,'raioInterface',marka,true)					 --
							 --
		bindKey(element,"]","down",pravo)					 --
		bindKey(element,"[","down",levo)					 --
		bindKey(element,"/","down",vniz)					 --
	end)					 --
	addEventHandler("onMarkerLeave", marka, function(element)					 --
		unbindKey(element,"]","down",pravo)					 --
		unbindKey(element,"[","down",levo)					 --
		unbindKey(element,"/","down",vniz)					 --
					 --
		triggerClientEvent(element,'raioInterface',marka,false)					 --
	end)					 --
end					 --
					 --
addEvent("getRadios",true)					 --
addEventHandler("getRadios",root,function()					 --
	for k,v in pairs(radios) do					 --
 		triggerClientEvent(source,'radioCreate',root,v)					 --
	end					 --
end)					 --
					 --
					 --
radioMarkPlace1 = createMarker(1410.0996, -1640, 37.655,"cylinder",2, 0, 0, 255, 0)					 --
progRadioMarker(radioMarkPlace1)					 --
					 --
--radioMarkPlace1 = createMarker(1410.0996, -1640, 37.655,"cylinder",2, 0, 0, 255, 0)					 --
					 --
					 --
					 --
local stulBut = "/"					 --
function progStul(obj)					 --
	local x,y,z = getElementPosition(obj)					 --
	local rx,ry,rz = getElementRotation(obj)					 --
	local matan = getMatrix(obj)					 --
	local poser = matan.position + matan.right*0.5 + matan.up*0.5					 --
	local poserSitter = matan.position + matan.right*0.5 + matan.up*0.4 - matan.forward*0.6					 --
	local marka = createMarker(poser.x,poser.y,poser.z,"cylinder",1.2, 0, 0, 255, 0)					 --
					 --
	local zanatElem = "none"					 --
	local zanato = false					 --
					 --
	function updateFaceStul()					 --
		triggerClientEvent('stulUpdate',marka,zanato)					 --
	end					 --
	local leave					 --
	local stand = function()					 --
		toggleAllControls(zanatElem,false)					 --
		setPedAnimation(zanatElem,"ped","SEAT_up",-1,false,false,false,false)					 --
		setTimer(function()					 --
			toggleAllControls(zanatElem,true)					 --
			clearPlayerAnim(zanatElem)					 --
			leave()					 --
		end,1400,1)					 --
	end					 --
	local zanat = function(player)					 --
		zanato = true					 --
		zanatElem = player					 --
		updateFaceStul()						 --
					 --
		triggerClientEvent(player,"disCol",root,obj,false)					 --
		toggleAllControls(player,false)					 --
		setElementPosition(player,poserSitter.x,poserSitter.y,poserSitter.z)					 --
		setElementRotation(player,0,0,rz-180)					 --
		setPedAnimation(player,"ped","SEAT_down",-1,false,false)					 --
		setTimer(function()					 --
			setPedAnimation(player,"ped","SEAT_idle",-1,true,false,false)					 --
			--toggleControl(player,"sprint",true)					 --
								 --
			bindKey(player,stulBut,'down',stand)					 --
		end,2000,1)					 --
					 --
					 --
		unbindKey(player,stulBut,"down",zanat)					 --
		outputChatBox("zanal")					 --
	end					 --
	leave = function()					 --
		triggerClientEvent(zanatElem,"disCol",root,obj,true)					 --
		toggleAllControls(zanatElem,true)					 --
		unbindKey(zanatElem,stulBut,'down',stand)					 --
					 --
		zanato = false					 --
		zanatElem = "none"					 --
		updateFaceStul()					 --
					 --
		outputChatBox("popustilo")					 --
	end					 --
					 --
	addEventHandler("onMarkerHit", marka, function(element)					 --
		if getElementType(element) ~= "player" or zanato then return end					 --
					 --
		triggerClientEvent(element,'stulInterface',root,marka,zanato)					 --
		bindKey(element,stulBut,"down",zanat,element)					 --
	end)					 --
	addEventHandler("onMarkerLeave", marka, function(element)					 --
		if zanatElem == element then leave() end					 --
		unbindKey(element,stulBut,"down",zanat)					 --
	end)					 --
end					 --
					 --
					 --
sitters = {	{1415.4, -1637.2202, 37.2,0,0,25},					 --
			{1417.77, -1636.7502, 37.2,0,0,-25},					 --
			{1411.4, -1640.9, 37.3, 0, 0, 15},					 --
					 --
			{1410.14, -1642.45, 37.3, 0, 0, 90},					 --
			{1410.14, -1643.38, 37.3, 0, 0, 90},					 --
			{1410.14, -1644.3, 37.3, 0, 0, 90},					 --
		}					 --
for i,v in ipairs(sitters) do					 --
	local sitter = createObject(2291, v[1],v[2],v[3], v[4],v[5],v[6])					 --
	setElementAlpha(sitter,0)					 --
	progStul(sitter)					 --
end					 --
